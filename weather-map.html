<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Weather Map</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">

    <link rel="stylesheet" href="css/weather-map.css">
</head>
<body>
<div class="container-fluid">

<h1>Weather Application</h1>

<!---Collapsible NavBar--->

<nav class="navbar navbar-inverse">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Weather Map App</a>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">Home</a></li>
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">Page 1 <span class="caret"></span></a>
                </li>
                <li><a href="#">Page 2</a></li>
                <li><a href="#">Page 3</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
                <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
            </ul>
        </div>
    </div>
</nav>
    <!--Cards for Facts--->
    <div class="weather-app">
        <h5 id="cityName"></h5>
        <div id="weather-panels" class="row justify-center">

        <!--DAY 1-->
        <!--<div class="weatherCard" style="width: 18rem;">-->
            <!--<div class="card-body">-->
                <!--<h5 class="card-title">Day 1</h5>-->
                <!--<p>highTemp</p>-->
                <!--<p>lowTemp</p>-->
                <!--<p>weatherType</p>-->
                <!--<p>weatherInfo</p>-->
                <!--<p>humidity</p>-->
                <!--<p>wind</p>-->
                <!--<p>pressure</p>-->
                <!--<p>icon</p>-->
            <!--</div>-->
        <!--</div>-->
            <!--DAY 2-->

        <!--<div class="weatherCard" style="width: 18rem;">-->
            <!--<div class="card-body">-->
                <!--<h5 class="card-title">Day 2</h5>-->
                <!--<p>highTemp</p>-->
                <!--<p>lowTemp</p>-->
                <!--<p>weatherType</p>-->
                <!--<p>weatherInfo</p>-->
                <!--<p>humidity</p>-->
                <!--<p>wind</p>-->
                <!--<p>pressure</p>-->
                <!--<p>icon</p>-->
            <!--</div>-->
        <!--</div>-->
            <!--DAY 3-->

            <!--<div class="weatherCard" style="width: 18rem;">-->
                <!--<div class="card-body">-->
                    <!--<h5 class="card-title">Day 3</h5>-->
                    <!--<p>highTemp</p>-->
                    <!--<p>lowTemp</p>-->
                    <!--<p>weatherType</p>-->
                    <!--<p>weatherInfo</p>-->
                    <!--<p>humidity</p>-->
                    <!--<p>wind</p>-->
                    <!--<p>pressure</p>-->
                    <!--<p>icon</p>-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->
    </div>
</div>
<div id="map-canvas"></div>
    <div class="weather-post">
<!--Progress Bar-->

<!--<div class="progress">-->
    <!--<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="70"-->
         <!--aria-valuemin="0" aria-valuemax="100" style="width: 70%">-->
        <!--<span class="sr-only">70% Complete</span>-->
    <!--</div>-->
<!--</div>-->
<!--</div>-->

<!--SCRIPTS-->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAM8BreyPgLwWQv5NajZ-izWid4NaZrLwI"></script>
<!--<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
<!--<script src="js/weather-map.js"></script>-->
<script>

<!--Js/Json/JQuery-->

    // function () {
        "use strict";

<!-- marker-->
        var marker;
        var map;
        function initMap() {
            var mapCanvas = document.getElementById('map-canvas');
            // var userLatLngvariable = userLatLngvariable;

            var mapOptions = {
                zoom: 10,
                center: {
                    lat: 29.423017,
                    lng: -98.48602
                }
            }
            var map = new google.maps.Map(mapCanvas, mapOptions);
        };
        initMap();

        var marker = new google.maps.Marker({
            // position: mapOptions.center,
            title: 'You Are Here',
            map: map,
            draggable: true,
            animation: google.maps.Animation.DROP,
        });


        marker.addListener('click', function () {
            var infowindow = new google.maps.InfoWindow({
                content: ''
            });
            infowindow.open(map, marker);
        });
            marker.setMap(map);


<!--AJAX-->
$.get("http://api.openweathermap.org/data/2.5/forecast?", {
    APPID: "56c01d6310f8ee5bf90905ea0fce8704",
    lat: "29.4241",
    lon: "-98.4936",
    units: "imperial"
}).done(function(data){
    console.log(data);
    console.log(data.list[0].main.temp_max);
    getForecast(data);
});

<!--Loops-->

function getForecast(info){
    // var panel = $('#weather-panels');
    // panel.append('<div class="col-3"><p>' + parseInt(info.list[0].main.temp_max) + '/' +
    //     parseInt(info.list[0].main.temp_min) + '</p></div>');
    // panel.append('<div class="col-6"<p>' + info.list[0].weather[0].main + ':' + '<div class="col-6"></div></p><p>' + info.list[0].weather[0].description + '</p></div>');
    // panel.append('<div class="col-12"<p>' + info.list[0].weather[0].description + '</p></div>');
    // panel.append('<div class="col-3"<p><strong>Humidty:</strong>' + info.list[0].main.humidity + '</p></div>');
    // panel.append('<div class="col-3"<p><strong>Wind:</strong>' + info.list[0].wind.speed +  'mph' + '</p></div>');
    // panel.append('<div class="col-3"<p><strong>Pressure:</strong>' + info.list[0].main.pressure + '</p></div>');
    // panel.append('<div class="col-3"<p>' + info.list[0].weather[0].icon + '</p></div>');

//DAY1

    var panel = $('#weather-panels');
    panel.append(
        // controls the temps rendering
        '<div class="col-12">' +
        '<p>' + parseInt(info.list[0].main.temp_max) + '/' +
            parseInt(info.list[0].main.temp_min) + '</p></div>' +
        // next, I need the weather conditions of the day
        '<div class="col-5"><p>' +
            info.list[0].weather[0].main + ':' + '</div>' +
            info.list[0].weather[0].description + '</p></div>' +
        // next, I wish to see the humidity
        '<div class="col-12"<p><strong>Humidty:</strong> ' +
            info.list[0].main.humidity + '</p></div>' +
            // then, i want to see the wind speed
        '<div class="col-12"<p><strong>Wind:</strong> ' + (Math.round(info.list[0].wind.speed) ) +  ' mph' + '</p></div>' +
            // finally pressure
        '<div class="col-0"<p><strong>Pressure:</strong> ' + (Math.round(info.list[0].main.pressure)) + 'mbar' + '</p></div>' +
        '<div class="col-12"<p>' + info.list[0].weather[0].icon + '</p></div>');


    $(".day1").html("");
    $(".day2").html("");
    $(".day3").html("");
    $("#cityName").html("");
    $("#cityName").append(" "+info.city.name);
    for(var i = 0; i<3;i++) {
        var day = $('#day' + (i + 1));
        var dayCount = i * 8;
        var tempHigh = parseInt(info.list[dayCount].main.temp_max);
        var tempLow = parseInt(info.list[dayCount].main.temp_min);
        var weatherType = info.list[dayCount].weather[0].main;
        var weatherInfo = info.list[dayCount].weather[0].description;
        var humidity = info.list[dayCount].main.humidity;
        var wind = info.list[dayCount].wind.speed;
        var pressure = info.list[dayCount].main.pressure;
        var icon = info.list[dayCount].weather[0].icon;
        day.append("<h2>"+tempHigh+"°/"+tempLow+"°</h2>");
        day.append("<img src = 'http://openweathermap.org/img/w/"+icon+".png'>");
        day.append("<p>"+weatherType+": "+weatherInfo);
        day.append("<p>Humidity: " + humidity);
        day.append("<p>Wind: " + wind);
        day.append("<p>Pressure: " + pressure);
    }
}
<!--Map-->

var mapOption = {
    zoom:5,
    center: {
        lat:29.467066,
        lng:-98.624418
    },
    mapTypeId: 'roadmap'
};

var newLocation = google.maps.event.addListener(marker, 'dragend', function() {
    var newLat = marker.getPosition().lat();
    var newLng = marker.getPosition().lng();
    newWeather(newLat, newLng);
});

<!--New Data-->


function newWeather(lat, lng){
    $.get("http://api.openweathermap.org/data/2.5/forecast?", {
        APPID: "7457baf464b5bf7c9656bda2facf6ed0",
        lat: lat,
        lon: lng,
        units: "imperial"
    }).done(function(data){
        console.log(data);
        console.log(data.list[0].main.temp_max);
        getForecast(data);
    });
}

</script>
    </div>
</body>
</html>